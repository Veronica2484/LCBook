{"version":3,"sources":["components/forms/SearchBox.js","components/NavBar.js","components/PrivateRoute.js","components/Footer.js","actions/item.js","actions/stripe.js","components/cards/SmallCard.js","booking/Home.js","actions/auth.js","components/LoginForm.js","auth/Login.js","components/RegistrationForm.js","auth/Register.js","components/ServicesNav.js","components/Connect.js","components/modals/OrderModal.js","components/cards/BookingCard.js","user/Services.js","user/ServicesOwner.js","components/forms/ItemCreateForm.js","items/NewItem.js","components/forms/ItemEditForm.js","items/EditItem.js","items/ViewItem.js","actions/order.js","booking/CheckOut.js","items/SearchItem.js","components/forms/Search.js","App.js","reducers/authLog.js","reportWebVitals.js","reducers/index.js","index.js"],"names":["SearchBox","history","useState","keyword","setKeyword","onSubmit","e","preventDefault","trim","push","type","name","onChange","target","value","placeholder","className","variant","NavBar","dispatch","useDispatch","auth","useSelector","state","useHistory","src","width","height","alt","render","to","onClick","payload","window","localStorage","removeItem","PrivateRoute","rest","token","Footer","currentYear","Date","getFullYear","createItem","data","a","axios","post","process","headers","Authorization","listOfItems","get","sellerItems","deleteItem","itemId","delete","read","updateItem","put","userItemBookings","isItemAlreadyBooked","searchListings","query","currencyFormatter","amount","toLocaleString","currency","style","SmallCard","h","handleItemDelete","f","owner","showViewMoreButton","itemTitle","author","city","status","quantity","price","from","toLocaleDateString","_id","EditOutlined","DeleteOutlined","image","contentType","Home","match","params","items","setItems","useEffect","loadAllitems","res","map","register","user","login","LoginForm","submitForm","email","setEmail","password","setPassword","required","disabled","Login","console","log","setItem","JSON","stringify","response","toast","error","RegistrationForm","setName","Register","ServicesNav","active","location","pathname","Meta","Card","Connect","avatar","title","OrderModal","item","orderedBy","showModal","setShowModal","visible","onCancel","BookingCard","Services","booking","setBooking","loadUserBookings","b","ServicesOwner","loadSellerItems","confirm","then","success","Option","Select","ItemCreateForm","props","values","setValues","handleChange","handleImageChange","handleSubmit","accept","hidden","size","date","dateString","disabledDate","current","valueOf","moment","subtract","NewItem","preview","setPreview","validate","itemData","FormData","append","setTimeout","reload","URL","createObjectURL","files","ItemEditForm","defaultValue","EditItem","setImage","loadSellerItem","err","ViewItem","isAlreadyBooked","setIsAlreadyBooked","ok","handleClick","content","format","createOrder","CheckOut","send","LoadingOutlined","SearchItem","DatePicker","RangePicker","queryString","parse","search","App","userState","position","autoClose","hideProgressBar","newestOnTop","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","getItem","rootReducer","combineReducers","action","store","createStore","composeWithDevTools","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.274b0333.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n//hooks to access to the history\r\n//import { useHistory } from 'react-router-dom'\r\n\r\nconst SearchBox = ({ history }) => {\r\n  //set the state\r\n  const [keyword, setKeyword] = useState('')\r\n\r\n  const submitHandler = (e) => {\r\n    e.preventDefault()\r\n    //check if the keyword if founds\r\n    if (keyword.trim()) {\r\n      history.push(`/search/${keyword}`)\r\n    } else {\r\n      history.push('/')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={submitHandler}>\r\n      <input\r\n        type=\"text\"\r\n        name=\"keyword\"\r\n        onChange={(e) => setKeyword(e.target.value)}\r\n        placeholder=\"Search book title...\"\r\n        className=\"search-box text-center\"\r\n      ></input>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        variant=\"outline-success\"\r\n        className=\"btn search-button\"\r\n      >\r\n        Search\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default SearchBox\r\n","//we import link from router dom to link a component to other pages\r\nimport { Link } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\n//import a hook to use the history function and route to pass a render as a prop\r\nimport { Route, useHistory } from 'react-router-dom'\r\nimport SearchBox from './forms/SearchBox'\r\n\r\n//after we import BrowserRouter we need to wrap the routers\r\n//we have to add exact in order to retrieve the exact page otherwise will retrieve the first coincidence even though the rest of the path does not match\r\n//add a navigation bar to navigate around the application\r\n\r\nconst NavBar = () => {\r\n  const dispatch = useDispatch()\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  const history = useHistory()\r\n\r\n  const logout = () => {\r\n    dispatch({\r\n      //dispatch will send the action type and payload to log out the user\r\n      type: 'LOGOUT',\r\n      payload: null,\r\n    })\r\n    //empty the user from local storage\r\n    window.localStorage.removeItem('auth')\r\n    //push the user to the login once it is logged out\r\n    history.push('/login')\r\n  }\r\n\r\n  return (\r\n    <div className=\"nav d-flex justify-content-between col-sm text-center font\">\r\n      <img\r\n        src=\"/logo.png\"\r\n        width=\"10%\"\r\n        height=\"10%\"\r\n        alt=\"\"\r\n        className=\"img img-fluid m-2\"\r\n      />\r\n\r\n      <Route render={({ history }) => <SearchBox history={history} />} />\r\n\r\n      <Link className=\"nav-link  m-4\" to=\"/\">\r\n        Home\r\n      </Link>\r\n\r\n      {auth !== null && (\r\n        <Link className=\"nav-link  m-4 \" to=\"/services\">\r\n          Services\r\n        </Link>\r\n      )}\r\n\r\n      {auth !== null && (\r\n        //add the pointer class to add a pointer to the logout function\r\n        <h className=\"nav-link pointer  m-4 \" onClick={logout}>\r\n          Logout\r\n        </h>\r\n      )}\r\n\r\n      {auth === null && (\r\n        <>\r\n          {''}\r\n          <Link className=\"nav-link m-4 \" to=\"/login\">\r\n            Login\r\n          </Link>\r\n          <Link className=\"nav-link m-4\" to=\"/register\">\r\n            Register\r\n          </Link>\r\n          {''}\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","import { Route, Redirect } from 'react-router-dom'\r\n\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst PrivateRoute = ({ ...rest }) => {\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  //if the user has the auth then the app will return the rest of the props\r\n  return auth && auth.token ? (\r\n    <Route {...rest} />\r\n  ) : (\r\n    //otherwise, the user will be redirected to login\r\n    <Redirect to=\"/login\" />\r\n  )\r\n}\r\n\r\nexport default PrivateRoute\r\n","import React from 'react'\r\n\r\nfunction Footer() {\r\n  const currentYear = new Date().getFullYear()\r\n  return (\r\n    <footer className=\"container-fluid p-2 text-center\">\r\n      <p>Copyright ⓒ VC {currentYear}</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer\r\n","//Funtions to post and get data\r\nimport axios from 'axios'\r\n\r\n//send the data to create a new item\r\nexport const createItem = async (token, data) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/create-item`, data, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n//function to get the list of the items,\r\n//add the keyword an set as default empty to add the funtionality search, pass the query string on the route\r\nexport const listOfItems = async (keyword = '') =>\r\n  await axios.get(`${process.env.REACT_APP_API}/items?keyword=${keyword}`)\r\n\r\n// export const diffDays = (from, to) => {\r\n//   const day = 24 * 60 * 60 * 1000\r\n//   const start = new Date(from)\r\n//   const end = new Date(to)\r\n//   const difference = Math.round(Math.abs((start - end) / day))\r\n//   return difference\r\n// }\r\n\r\nexport const sellerItems = async (token) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/seller-items`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n//function that will make request to the API to delete an item\r\nexport const deleteItem = async (token, itemId) =>\r\n  await axios.delete(`${process.env.REACT_APP_API}/delete-item/${itemId}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n//function to retrieve a single item\r\nexport const read = async (itemId) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/item/${itemId}`)\r\n\r\n//send the data to update data of an item, it makes a put request\r\nexport const updateItem = async (token, data, itemId) =>\r\n  await axios.put(`${process.env.REACT_APP_API}/update-item/${itemId}`, data, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n//fc to make the request to get all items request\r\nexport const userItemBookings = async (token) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/user-item-bookings`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n//fc to make a request to check if a item is already booked. It twill pass the itemId in the URL\r\nexport const isItemAlreadyBooked = async (token, itemId) =>\r\n  await axios.get(`${process.env.REACT_APP_API}/is-already-booked/${itemId}`, {\r\n    headers: {\r\n      Authorization: `Bearer ${token}`,\r\n    },\r\n  })\r\n\r\n//fc to make a request to search for item\r\nexport const searchListings = async (query) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/search-listings`, query)\r\n\r\n//fc to make a request to check if a item is already booked. It twill pass the itemId in the URL\r\n// export const isItemBooked = async (itemId) =>\r\n//   await axios.get(`${process.env.REACT_APP_API}/is-item-booked/${itemId}`)\r\n","import axios from 'axios'\r\n\r\n//fc to make a request in the back end to create an account sending the token\r\n\r\n// export const getAccountStatus = async (token) =>\r\n//   axios.post(\r\n//     `${process.env.REACT_APP_API}/get-account-status`,\r\n//     {},\r\n//     {\r\n//       headers: {\r\n//         Authorization: `Bearer ${token}`,\r\n//       },\r\n//     }\r\n//   )\r\n\r\n// export const getAccountBalance = async (token) =>\r\n//   axios.post(\r\n//     `${process.env.REACT_APP_API}/get-account-balance`,\r\n//     {},\r\n//     {\r\n//       headers: {\r\n//         Authorization: `Bearer ${token}`,\r\n//       },\r\n//     }\r\n//   )\r\n\r\nexport const currencyFormatter = (data) => {\r\n  return data.amount.toLocaleString(data.currency, {\r\n    style: 'currency',\r\n    currency: data.currency,\r\n  })\r\n}\r\n\r\n// export const payoutSetting = async (token) =>\r\n//   await axios.post(\r\n//     `${process.env.REACT_APP_API}/payout-setting`,\r\n//     {},\r\n//     {\r\n//       headers: {\r\n//         Authorization: `Bearer ${token}`,\r\n//       },\r\n//     }\r\n//   )\r\n\r\n//function to get session id\r\nexport const getSessionId = async (token, itemId) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/session-id`,\r\n    { itemId },\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  )\r\n","import { currencyFormatter } from '../../actions/stripe'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons'\r\n\r\nconst SmallCard = ({\r\n  h,\r\n  handleItemDelete = (f) => f,\r\n  owner = false,\r\n  showViewMoreButton = true,\r\n}) => {\r\n  const history = useHistory()\r\n  return (\r\n    <>\r\n      <div className=\"card mb-3\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-md-8\">\r\n            <div className=\"card-body\">\r\n              <h2 className=\"card-title\">{h.itemTitle} </h2>\r\n              <p className=\"alert alert-info\">Author: {h.author}</p>\r\n              <p className=\"alert alert-info\">City: {h.city}</p>\r\n\r\n              <div className=\"d-flex justify-content-between\">\r\n                <p className=\"card-text\">To: {h.status}</p>\r\n                <p className=\"card-text\"> Quantity: {h.quantity}</p>\r\n                <p className=\"\">\r\n                  {' '}\r\n                  Price:{' '}\r\n                  {currencyFormatter({\r\n                    amount: h.price,\r\n                    currency: 'EUR',\r\n                  })}\r\n                </p>{' '}\r\n              </div>\r\n\r\n              {/* <p className=\"card-text\">\r\n                Available from {new Date(h.from).toLocaleDateString()}\r\n              </p> */}\r\n\r\n              <div className=\"col-md-4\">\r\n                {h.from && h.to ? (\r\n                  <>\r\n                    <p className=\"card-text\">\r\n                      Available from {new Date(h.from).toLocaleDateString()}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      Available to {new Date(h.to).toLocaleDateString()}\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <p className=\"card-text\">{``}</p>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"d-flex justify-content-between h4\">\r\n                {showViewMoreButton && (\r\n                  <button\r\n                    onClick={() => history.push(`/item/${h._id}`)}\r\n                    className=\"btn btn-primary\"\r\n                  >\r\n                    Show more\r\n                  </button>\r\n                )}\r\n\r\n                {owner && (\r\n                  <>\r\n                    <Link to={`/item/edit/${h._id}`}>\r\n                      <EditOutlined className=\"text-warning\" />\r\n                    </Link>\r\n                    <DeleteOutlined\r\n                      onClick={() => handleItemDelete(h._id)}\r\n                      className=\"text-danger\"\r\n                    />\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-4\">\r\n            {h.image && h.image.contentType ? (\r\n              <img\r\n                src={`${process.env.REACT_APP_API}/item/image/${h._id}`}\r\n                alt=\"item\"\r\n                className=\"card-image img img-fluid\"\r\n              />\r\n            ) : (\r\n              <img\r\n                src=\"https://via.placeholder.com/900x500.png?text=item\"\r\n                alt=\"item\"\r\n                className=\"card-image img img-fluid-preview\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default SmallCard\r\n","import { useState, useEffect } from 'react'\r\nimport { listOfItems } from '../actions/item'\r\nimport SmallCard from '../components/cards/SmallCard'\r\n//import Search from '../components/forms/Search'\r\n\r\n//create a arrow function\r\n//useSelector takes a function and returns the state\r\nconst Home = ({ match }) => {\r\n  //check the keyword entered in the search box\r\n  const keyword = match.params.keyword\r\n  //create the item state\r\n  const [items, setItems] = useState([])\r\n\r\n  useEffect(() => {\r\n    loadAllitems(keyword)\r\n  }, [keyword])\r\n\r\n  //pass the keyborad to the fc\r\n  const loadAllitems = async () => {\r\n    let res = await listOfItems(keyword)\r\n    setItems(res.data)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid banner p-5 text-center\">\r\n        <h1> List of items </h1>\r\n      </div>\r\n\r\n      {/* <div className=\"col\">\r\n        <br />\r\n        <Search />\r\n      </div> */}\r\n\r\n      <div className=\"container-fluid\">\r\n        <br />\r\n        {/* <pre>{JSON.stringify(hotels, null, 4)}</pre> */}\r\n        {items.map((h) => (\r\n          <SmallCard key={h._id} h={h} />\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n//exporting this we can import and use it in another component\r\nexport default Home\r\n","//Funtions to post and get data\r\nimport axios from 'axios'\r\n\r\n//register function\r\nexport const register = async (user) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/register`, user)\r\n\r\n//login function to send a post request to the login end point\r\nexport const login = async (user) =>\r\n  await axios.post(`${process.env.REACT_APP_API}/login`, user)\r\n\r\n//update the storage\r\nexport const updateLocalStorage = (user, next) => {\r\n  if (window.localStorage.getItem('auth')) {\r\n    let auth = JSON.parse(localStorage.getItem('auth'))\r\n    auth.user = user\r\n    localStorage.setItem('auth', JSON.stringify(auth))\r\n    next()\r\n  }\r\n}\r\n","const LoginForm = ({\r\n  //we pass those as props from the parent component (Register)\r\n  submitForm,\r\n  email,\r\n  setEmail,\r\n  password,\r\n  setPassword,\r\n}) => (\r\n  <form onSubmit={submitForm} className=\"mt-3\">\r\n    <div className=\"form-group mb-3\">\r\n      <label className=\"form-label\">Email address</label>\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"email\"\r\n        placeholder=\"Enter email\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n        required\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group mb-3\">\r\n      <label className=\"form-label\">Password</label>\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"password\"\r\n        placeholder=\"Enter password\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        required\r\n      />\r\n    </div>\r\n    <button disabled={!email || !password} className=\"btn btn-primary\">\r\n      Submit\r\n    </button>\r\n  </form>\r\n)\r\n\r\nexport default LoginForm\r\n","import { useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport { login } from '../actions/auth'\r\nimport LoginForm from '../components/LoginForm'\r\n//to update the state we import useDispatch\r\nimport { useDispatch } from 'react-redux'\r\n//create a arrow function\r\nconst Login = ({ history }) => {\r\n  const [email, setEmail] = useState('veronicacondori24@gmail.com')\r\n  const [password, setPassword] = useState('123456789')\r\n\r\n  //put the useDisoatch function in a variable\r\n  const dispatch = useDispatch()\r\n\r\n  const submitForm = async (e) => {\r\n    e.preventDefault()\r\n    console.log('Send Login Information', { email, password })\r\n    try {\r\n      //sending email and password to login\r\n      let res = await login({ email, password })\r\n      if (res.data) {\r\n        console.log(\r\n          'Save user res in redux and local storage then redirect ===>'\r\n        )\r\n        // console.log(res.data)\r\n        //user and token are saved in the local storage\r\n        window.localStorage.setItem('auth', JSON.stringify(res.data))\r\n        //user and token saved to redux\r\n        dispatch({\r\n          type: 'LOGGED_IN_USER',\r\n          payload: res.data,\r\n        })\r\n        history.push('/services')\r\n      }\r\n    } catch (err) {\r\n      console.log(err)\r\n      if (err.response.status === 400) toast.error(err.response.data)\r\n      //if (err.response.status === 400) toast(err.response.data)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid p-5 text-center banner\">\r\n        <h1>Login</h1>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3\">\r\n            <LoginForm\r\n              submitForm={submitForm}\r\n              email={email}\r\n              setEmail={setEmail}\r\n              password={password}\r\n              setPassword={setPassword}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","const RegistrationForm = ({\r\n  //we pass those as props from the parent component (Register)\r\n  submitForm,\r\n  name,\r\n  setName,\r\n  email,\r\n  setEmail,\r\n  password,\r\n  setPassword,\r\n}) => (\r\n  <form onSubmit={submitForm} className=\"mt-3\">\r\n    <div className=\"form-group mb-3\">\r\n      <label className=\"form-label\">Name</label>\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"text\"\r\n        placeholder=\"Enter name\"\r\n        value={name}\r\n        onChange={(e) => setName(e.target.value)}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group mb-3\">\r\n      <label className=\"form-label\">Email address</label>\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"email\"\r\n        placeholder=\"Enter email\"\r\n        value={email}\r\n        onChange={(e) => setEmail(e.target.value)}\r\n      />\r\n    </div>\r\n\r\n    <div className=\"form-group mb-3\">\r\n      <label className=\"form-label\">Password</label>\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"password\"\r\n        placeholder=\"Enter password\"\r\n        value={password}\r\n        onChange={(e) => setPassword(e.target.value)}\r\n      />\r\n    </div>\r\n    {/* <button disabled={!name || !email || !password} className=\"btn btn-primary\"> */}\r\n    <button className=\"btn btn-primary\">Submit</button>\r\n  </form>\r\n)\r\n\r\nexport default RegistrationForm\r\n","import React from 'react'\r\n//import useState which is a hook to be able to use it\r\nimport { useState } from 'react'\r\nimport RegistrationForm from '../components/RegistrationForm'\r\n//import axios to send a request to the back end\r\nimport axios from 'axios'\r\n//import those to handle notification\r\nimport { toast } from 'react-toastify'\r\n//import the register function from auth action\r\nimport { register } from '../actions/auth'\r\n\r\n//create a arrow function\r\nconst Register = ({ history }) => {\r\n  //create a state to starage the username, email and password\r\n  const [name, setName] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  //console.log(\"history\", history);\r\n  //fc to handle the information when the user submit the information\r\n  const submitForm = async (e) => {\r\n    //we add async keyword to the event to be able to await for a request to handle it\r\n    e.preventDefault()\r\n    //console.table({ name, email, password })\r\n    try {\r\n      //axios makes a post request to the end point which takes two argument the url and the data\r\n      //replace the code for a register function which has the action on the auth.js action file\r\n      const res = await register({\r\n        name,\r\n        email,\r\n        password,\r\n      })\r\n      //we see this message in the console\r\n      //console.log('Register user ===>', res)\r\n      //add the toast function to see the toast message\r\n      toast('Registered successfully. Please Login.')\r\n      //once the registration has been succesfull it is redirect to Login page\r\n      history.push('/login')\r\n    } catch (err) {\r\n      console.log(err)\r\n      if (err.response.status === 400) toast(err.response.data)\r\n    }\r\n  }\r\n  //only to check if the client has access to this port\r\n  //console.log(process.env.REACT_APP_API);\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid bg-muted p-5 text-center banner\">\r\n        <h1>Register</h1>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3\">\r\n            <RegistrationForm\r\n              submitForm={submitForm}\r\n              name={name}\r\n              setName={setName}\r\n              email={email}\r\n              setEmail={setEmail}\r\n              password={password}\r\n              setPassword={setPassword}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Register\r\n","//we import link from router dom to link a component to other pages\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst ServicesNav = () => {\r\n  const active = window.location.pathname\r\n  console.log(active)\r\n  return (\r\n    <ul className=\"nav nav-tabs\">\r\n      <li className=\"nav-item col-6 text-center\">\r\n        <Link\r\n          className={`nav-link ${active === '/services' && 'active'}`}\r\n          to=\"/services\"\r\n        >\r\n          Your bookings\r\n        </Link>\r\n      </li>\r\n      <li className=\"nav-item col-6 text-center\">\r\n        <Link\r\n          className={`nav-link ${active === '/services/owner' && 'active'}`}\r\n          to=\"/services/owner\"\r\n        >\r\n          Your items\r\n        </Link>\r\n      </li>\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default ServicesNav\r\n","import { useSelector } from 'react-redux'\r\nimport { Card, Avatar } from 'antd'\r\nimport moment from 'moment'\r\n\r\nconst { Meta } = Card\r\n\r\nconst Connect = () => {\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  const { user } = auth\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-around\">\r\n      <Card className=\"\">\r\n        <Meta avatar={<Avatar>{user.name[0]}</Avatar>} title={user.name} />\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Connect\r\n","import { Modal } from 'antd'\r\n\r\n//ShowModal and setShowModal are BookingCard component state that with pass to thhis child as props to control de visibility\r\nconst OrderModal = ({ item, orderedBy, showModal, setShowModal }) => {\r\n  return (\r\n    <Modal\r\n      visible={showModal}\r\n      title=\"Order payment info\"\r\n      onCancel={() => setShowModal(!showModal)}\r\n    >\r\n      {/* <pre>Paid by: {JSON.stringify(orderedBy, null, 4)}</pre> */}\r\n\r\n      <p> OrderedBy: {orderedBy.name}</p>\r\n      <p> Id: {orderedBy._id}</p>\r\n      <p> Payment status: Paid</p>\r\n      {/* <p> Status: {item.status}</p> */}\r\n      <p> Amount: {item.price}€</p>\r\n      {/* <p> Date: {order.date}</p> */}\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default OrderModal\r\n","import { useState } from 'react'\r\nimport { currencyFormatter } from '../../actions/stripe'\r\nimport { useHistory, Link } from 'react-router-dom'\r\nimport { EditOutlined, DeleteOutlined } from '@ant-design/icons'\r\nimport OrderModal from '../modals/OrderModal'\r\n\r\nconst BookingCard = ({ item, orderedBy }) => {\r\n  //create a state to control de visibility of the modal\r\n  const [showModal, setShowModal] = useState(false)\r\n\r\n  const history = useHistory()\r\n  return (\r\n    <>\r\n      <div className=\"card mb-3\">\r\n        <div className=\"row no-gutters\">\r\n          <div className=\"col-md-8\">\r\n            <div className=\"card-body\">\r\n              <h2 className=\"card-title\">{item.itemTitle} </h2>\r\n              <p className=\"alert alert-info\">Author: {item.author}</p>\r\n              <p className=\"alert alert-info\">City: {item.city}</p>\r\n\r\n              <div className=\"d-flex justify-content-between\">\r\n                <p className=\"card-text\">To: {item.status}</p>\r\n                <p className=\"card-text\"> Quantity: {item.quantity}</p>\r\n                <p className=\"\">\r\n                  {' '}\r\n                  Price:{' '}\r\n                  {currencyFormatter({\r\n                    amount: item.price,\r\n                    currency: 'EUR',\r\n                  })}\r\n                </p>{' '}\r\n              </div>\r\n\r\n              <div className=\"col-md-4\">\r\n                {item.from && item.to ? (\r\n                  <>\r\n                    <p className=\"card-text\">\r\n                      From {new Date(item.from).toLocaleDateString()}\r\n                    </p>\r\n                    <p className=\"card-text\">\r\n                      To {new Date(item.to).toLocaleDateString()}\r\n                    </p>\r\n                  </>\r\n                ) : (\r\n                  <p className=\"card-text\">{``}</p>\r\n                )}\r\n              </div>\r\n\r\n              {showModal && (\r\n                <OrderModal\r\n                  item={item}\r\n                  orderedBy={orderedBy} //items passed as props\r\n                  showModal={showModal}\r\n                  setShowModal={setShowModal}\r\n                />\r\n              )}\r\n\r\n              <div className=\"d-flex justify-content-between h4\">\r\n                <button\r\n                  onClick={() => setShowModal(!showModal)}\r\n                  className=\"btn btn-primary\"\r\n                >\r\n                  Show more info\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"col-md-4\">\r\n            {item.image && item.image.contentType ? (\r\n              <img\r\n                src={`${process.env.REACT_APP_API}/item/image/${item._id}`}\r\n                alt=\"item\"\r\n                className=\"card-image img img-fluid\"\r\n              />\r\n            ) : (\r\n              <img\r\n                src=\"https://via.placeholder.com/900x500.png?text=item\"\r\n                alt=\"item\"\r\n                className=\"card-image img img-fluid\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BookingCard\r\n","import ServicesNav from '../components/ServicesNav'\r\nimport Connect from '../components/Connect'\r\nimport { Link } from 'react-router-dom'\r\nimport { userItemBookings } from '../actions/item'\r\nimport { useSelector } from 'react-redux'\r\nimport { useState, useEffect } from 'react'\r\nimport BookingCard from '../components/cards/BookingCard'\r\n\r\nconst Services = () => {\r\n  //access to the token from auth state\r\n  const {\r\n    auth: { token },\r\n  } = useSelector((state) => ({ ...state }))\r\n  //create state for bookings\r\n  const [booking, setBooking] = useState([])\r\n\r\n  useEffect(() => {\r\n    loadUserBookings()\r\n  }, [])\r\n\r\n  const loadUserBookings = async () => {\r\n    const res = await userItemBookings(token)\r\n    console.log(res)\r\n    setBooking(res.data)\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid p-5 text-center services\">\r\n        <h1>Services</h1>\r\n        <Connect />\r\n      </div>\r\n\r\n      <div className=\"container-fluid p-4\">\r\n        <ServicesNav />\r\n      </div>\r\n\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-10\">\r\n            <h2>Your booked items</h2>\r\n          </div>\r\n          <div className=\"col-md-2\">\r\n            <Link to=\"/\" className=\"btn btn-primary\">\r\n              Show list of Books\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        {/* <pre>{JSON.stringify(booking, null, 4)}</pre> */}\r\n        {booking.map((b) => (\r\n          <BookingCard key={b._id} item={b.item} orderedBy={b.orderedBy} />\r\n        ))}\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Services\r\n","import { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport ServicesNav from '../components/ServicesNav'\r\nimport Connect from '../components/Connect'\r\nimport { Link } from 'react-router-dom'\r\nimport { sellerItems, deleteItem } from '../actions/item'\r\nimport SmallCard from '../components/cards/SmallCard'\r\nimport { toast } from 'react-toastify'\r\n\r\nconst ServicesOwner = () => {\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  const [items, setItems] = useState([])\r\n  // //to display a loading state when the user makes a request to set up an account\r\n  // const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    loadSellerItems()\r\n  }, [])\r\n\r\n  const loadSellerItems = async () => {\r\n    let { data } = await sellerItems(auth.token)\r\n    setItems(data)\r\n  }\r\n\r\n  const handleItemDelete = async (itemId) => {\r\n    if (!window.confirm('Do you want to delete it?')) return\r\n    deleteItem(auth.token, itemId).then((res) => {\r\n      toast.success('Item deleted')\r\n      loadSellerItems()\r\n    })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid p-5 text-center services\">\r\n        <h1>Services</h1>\r\n        <Connect />\r\n      </div>\r\n\r\n      <div className=\"container-fluid p-4\">\r\n        <ServicesNav />\r\n      </div>\r\n\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-10\">\r\n            <h2>Your own items</h2>\r\n          </div>\r\n          <div className=\"col-md-2\">\r\n            <Link to=\"/items/new\" className=\"btn btn-primary\">\r\n              Add new item\r\n            </Link>\r\n          </div>\r\n        </div>\r\n        <div className=\"row\">\r\n          {items.map((h) => (\r\n            <SmallCard\r\n              key={h._id}\r\n              h={h}\r\n              showViewMoreButton={false}\r\n              owner={true}\r\n              handleItemDelete={handleItemDelete}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ServicesOwner\r\n","//install hooks from react\r\n\r\n//import AlgoliaPlaces from 'algolia-places-react'\r\nimport { DatePicker, Select } from 'antd'\r\nimport moment from 'moment'\r\n\r\n//distruct a Select\r\nconst { Option } = Select\r\n\r\n//create a arrow function\r\nconst ItemCreateForm = (props) => {\r\n  const { values, setValues, handleChange, handleImageChange, handleSubmit } =\r\n    props\r\n\r\n  const { itemTitle, author, price } = values\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\r\n          Image\r\n          <input\r\n            type=\"file\"\r\n            name=\"itemImage\"\r\n            onChange={handleImageChange}\r\n            accept=\"*/\"\r\n            hidden\r\n          ></input>\r\n        </label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"itemTitle\"\r\n          onChange={handleChange}\r\n          placeholder=\"Item Title\"\r\n          className=\"form-control m-2\"\r\n          value={itemTitle}\r\n        ></input>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"author\"\r\n          onChange={handleChange}\r\n          placeholder=\"Author\"\r\n          className=\"form-control m-2\"\r\n          value={author}\r\n        ></input>\r\n\r\n        <Select\r\n          //defaultValue=\"Dublin\"\r\n          style={{ width: 120 }}\r\n          onChange={(value) => setValues({ ...values, city: value })}\r\n          className=\"w-100 m-2\"\r\n          size=\"large\"\r\n          placeholder=\"City\"\r\n        >\r\n          <Option value=\"Dublin\">Dublin</Option>\r\n          <Option value=\"Cork\">Cork</Option>\r\n          <Option value=\"Galway\">Galway</Option>\r\n          <Option value=\"Waterford\">Waterford</Option>\r\n        </Select>\r\n\r\n        <Select\r\n          style={{ width: 120 }}\r\n          onChange={(value) => setValues({ ...values, status: value })}\r\n          className=\"w-100 m-2\"\r\n          size=\"large\"\r\n          placeholder=\"Status\"\r\n        >\r\n          <Option value=\"Sell\">Sell</Option>\r\n          <Option value=\"Exchange\">Exchange</Option>\r\n          <Option value=\"Give away\">Give away</Option>\r\n        </Select>\r\n\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          onChange={handleChange}\r\n          placeholder=\"Price\"\r\n          className=\"form-control m-2\"\r\n          value={price}\r\n        ></input>\r\n\r\n        <Select\r\n          onChange={(value) => setValues({ ...values, quantity: value })}\r\n          className=\"w-100 m-2\"\r\n          size=\"middle\"\r\n          placeholder=\"Quantity\"\r\n        >\r\n          <Option key={1}>{1}</Option>\r\n          <Option key={2}>{2}</Option>\r\n          <Option key={3}>{3}</Option>\r\n          <Option key={4}>{4}</Option>\r\n        </Select>\r\n      </div>\r\n\r\n      <DatePicker\r\n        placeholder=\"From date\"\r\n        className=\"form-control m-2\"\r\n        onChange={(date, dateString) =>\r\n          setValues({ ...values, from: dateString })\r\n        }\r\n        disabledDate={(current) =>\r\n          current && current.valueOf() < moment().subtract(1, 'days')\r\n        }\r\n      />\r\n\r\n      <DatePicker\r\n        placeholder=\"To date\"\r\n        className=\"form-control m-2\"\r\n        onChange={(date, dateString) =>\r\n          setValues({ ...values, to: dateString })\r\n        }\r\n        disabledDate={(current) =>\r\n          current && current.valueOf() < moment().subtract(1, 'days')\r\n        }\r\n      />\r\n\r\n      <button className=\"btn btn-outline-primary m-2\">Add</button>\r\n    </form>\r\n  )\r\n}\r\n\r\n//exporting this we can import and use it in another component\r\nexport default ItemCreateForm\r\n","//install hooks from react\r\nimport { useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport { DatePicker, Select } from 'antd'\r\nimport { createItem } from '../actions/item'\r\nimport { useSelector } from 'react-redux'\r\nimport ItemCreateForm from '../components/forms/ItemCreateForm'\r\n\r\n//distruct a Select\r\nconst { Option } = Select\r\n\r\n//create a arrow function\r\nconst NewItem = () => {\r\n  //add redux\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  const { token } = auth\r\n  //define state\r\n  const [values, setValues] = useState({\r\n    itemTitle: '',\r\n    author: '',\r\n    city: '',\r\n    status: '',\r\n    price: '',\r\n    image: '',\r\n    from: '',\r\n    to: '',\r\n    quantity: '',\r\n  })\r\n  const [preview, setPreview] = useState(\r\n    'https://via.placeholder.com/100x100.png?text=PREVIEW'\r\n  )\r\n  //variables from state\r\n  const { itemTitle, author, city, status, price, image, from, to, quantity } =\r\n    values\r\n\r\n  //do a request to the backend\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    //console.log(values)\r\n    //validation for form fields\r\n    validate(values)\r\n\r\n    //instance Form Data\r\n    let itemData = new FormData()\r\n    //add the data\r\n    itemData.append('itemTitle', itemTitle)\r\n    itemData.append('author', author)\r\n    itemData.append('city', city)\r\n    itemData.append('status', status)\r\n    itemData.append('price', price)\r\n    //send the image as binary data\r\n    image && itemData.append('image', image)\r\n    itemData.append('from', from)\r\n    itemData.append('to', to)\r\n    itemData.append('quantity', quantity)\r\n\r\n    console.log([...itemData])\r\n    try {\r\n      //put the createItem fc in a variable\r\n      let res = await createItem(token, itemData)\r\n      console.log('Created item res', res)\r\n      toast.success('New item has been added')\r\n      //empty the fields after 2 sec, reload\r\n      setTimeout(() => {\r\n        window.location.reload()\r\n      }, 2000)\r\n    } catch (err) {\r\n      //print out in the console and send a toast message if there was an error saving the data in the cloud storage(create fc in the controller)\r\n      console.log(err)\r\n      // toast.error(err.response.data)\r\n    }\r\n  }\r\n\r\n  //Validation of the Item register fields\r\n\r\n  const validate = (values) => {\r\n    let errors = {}\r\n    if (!values.itemTitle) {\r\n      toast('Please fill the item title.')\r\n    } else if (!values.author) {\r\n      toast('Please fill author')\r\n    } else if (!values.city) {\r\n      toast('Please fill city')\r\n    } else if (!values.status) {\r\n      toast('Please fill status')\r\n    } else if (!values.price) {\r\n      toast('Please fill price')\r\n    }\r\n    return errors\r\n  }\r\n\r\n  const handleImageChange = (e) => {\r\n    //console.log(e.target.files[0])\r\n    //it will set the image in the state and will show the preview image\r\n    setPreview(URL.createObjectURL(e.target.files[0]))\r\n    setValues({ ...values, image: e.target.files[0] })\r\n  }\r\n\r\n  //pupulate all the user input in the state\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid services p-5 text-center\">\r\n        <h2>Add New Item</h2>\r\n      </div>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-10\">\r\n            <br />\r\n            <ItemCreateForm\r\n              values={values}\r\n              setValues={setValues}\r\n              handleChange={handleChange}\r\n              handleImageChange={handleImageChange}\r\n              handleSubmit={handleSubmit}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2\">\r\n            <img\r\n              src={preview}\r\n              alt=\"preview_image\"\r\n              className=\"img img-fluid-preview m-2\"\r\n            />\r\n            {/* <pre>{JSON.stringify(values, null, 4)}</pre> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\n//exporting this we can import and use it in another component\r\nexport default NewItem\r\n","//install hooks from react\r\n\r\n//import AlgoliaPlaces from 'algolia-places-react'\r\nimport { DatePicker, Select } from 'antd'\r\nimport moment from 'moment'\r\n\r\n//distruct a Select\r\nconst { Option } = Select\r\n\r\n//create a arrow function\r\nconst ItemEditForm = (props) => {\r\n  const { values, setValues, handleChange, handleImageChange, handleSubmit } =\r\n    props\r\n\r\n  const { itemTitle, author, city, status, price, quantity, from, to } = values\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"btn btn-outline-secondary btn-block m-2 text-left\">\r\n          Image\r\n          <input\r\n            type=\"file\"\r\n            name=\"itemImage\"\r\n            onChange={handleImageChange}\r\n            accept=\"*/\"\r\n            hidden\r\n          ></input>\r\n        </label>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"itemTitle\"\r\n          onChange={handleChange}\r\n          placeholder=\"Item Title\"\r\n          className=\"form-control m-2\"\r\n          value={itemTitle}\r\n        ></input>\r\n\r\n        <input\r\n          type=\"text\"\r\n          name=\"author\"\r\n          onChange={handleChange}\r\n          placeholder=\"Author\"\r\n          className=\"form-control m-2\"\r\n          value={author}\r\n        ></input>\r\n\r\n        <Select\r\n          //defaultValue=\"Dublin\"\r\n          style={{ width: 120 }}\r\n          onChange={(value) => setValues({ ...values, city: value })}\r\n          className=\"w-100 m-2\"\r\n          size=\"large\"\r\n          placeholder=\"City\"\r\n          value={city}\r\n        >\r\n          <Option value=\"Dublin\">Dublin</Option>\r\n          <Option value=\"Cork\">Cork</Option>\r\n          <Option value=\"Galway\">Galway</Option>\r\n          <Option value=\"Waterford\">Waterford</Option>\r\n        </Select>\r\n\r\n        <Select\r\n          style={{ width: 120 }}\r\n          onChange={(value) => setValues({ ...values, status: value })}\r\n          className=\"w-100 m-2\"\r\n          size=\"large\"\r\n          placeholder=\"Status\"\r\n          value={status}\r\n        >\r\n          <Option value=\"Sell\">Sell</Option>\r\n          <Option value=\"Exchange\">Exchange</Option>\r\n          <Option value=\"Give away\">Give away</Option>\r\n        </Select>\r\n\r\n        <input\r\n          type=\"number\"\r\n          name=\"price\"\r\n          onChange={handleChange}\r\n          placeholder=\"Price\"\r\n          className=\"form-control m-2\"\r\n          value={price}\r\n        ></input>\r\n\r\n        <Select\r\n          onChange={(value) => setValues({ ...values, quantity: value })}\r\n          className=\"w-100 m-2\"\r\n          size=\"middle\"\r\n          placeholder=\"Quantity\"\r\n          value={quantity}\r\n        >\r\n          <Option key={1}>{1}</Option>\r\n          <Option key={2}>{2}</Option>\r\n          <Option key={3}>{3}</Option>\r\n          <Option key={4}>{4}</Option>\r\n        </Select>\r\n      </div>\r\n\r\n      {from && (\r\n        <DatePicker\r\n          defaultValue={moment(from, 'YYYY-MM-DD')}\r\n          placeholder=\"From date\"\r\n          className=\"form-control m-2\"\r\n          onChange={(date, dateString) =>\r\n            setValues({ ...values, from: dateString })\r\n          }\r\n          disabledDate={(current) =>\r\n            current && current.valueOf() < moment().subtract(1, 'days')\r\n          }\r\n        />\r\n      )}\r\n\r\n      {to && (\r\n        <DatePicker\r\n          defaultValue={moment(to, 'YYYY-MM-DD')}\r\n          placeholder=\"To date\"\r\n          className=\"form-control m-2\"\r\n          onChange={(date, dateString) =>\r\n            setValues({ ...values, to: dateString })\r\n          }\r\n          disabledDate={(current) =>\r\n            current && current.valueOf() < moment().subtract(1, 'days')\r\n          }\r\n        />\r\n      )}\r\n\r\n      <button className=\"btn btn-outline-primary m-2\">Update</button>\r\n    </form>\r\n  )\r\n}\r\n\r\n//exporting this we can import and use it in another component\r\nexport default ItemEditForm\r\n","import { useState, useEffect } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport { DatePicker, Select } from 'antd'\r\nimport { read, updateItem } from '../actions/item'\r\nimport { useSelector } from 'react-redux'\r\nimport ItemEditForm from '../components/forms/ItemEditForm'\r\n\r\n//distruct a Select\r\nconst { Option } = Select\r\n\r\nconst EditItem = ({ match }) => {\r\n  //add redux\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  const { token } = auth\r\n  //define state\r\n  const [values, setValues] = useState({\r\n    itemTitle: '',\r\n    author: '',\r\n    city: '',\r\n    status: '',\r\n    price: '',\r\n    from: '',\r\n    to: '',\r\n    quantity: '',\r\n  })\r\n  const [image, setImage] = useState('')\r\n\r\n  const [preview, setPreview] = useState(\r\n    'https://via.placeholder.com/100x100.png?text=PREVIEW'\r\n  )\r\n\r\n  //destructured variables from state\r\n  const { itemTitle, author, city, status, price, from, to, quantity } = values\r\n\r\n  useEffect(() => {\r\n    //console.log(match.params.itemId)\r\n    loadSellerItem()\r\n  }, [])\r\n\r\n  const loadSellerItem = async () => {\r\n    //it will make a request using read fc\r\n    let res = await read(match.params.itemId)\r\n    //console.log(res)\r\n    setValues({ ...values, ...res.data })\r\n    setPreview(`${process.env.REACT_APP_API}/item/image/${res.data._id}`)\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n\r\n    //instance Form Data\r\n    let itemData = new FormData()\r\n    //add the data\r\n    itemData.append('itemTitle', itemTitle)\r\n    itemData.append('author', author)\r\n    itemData.append('city', city)\r\n    itemData.append('status', status)\r\n    itemData.append('price', price)\r\n    //send the image as binary data\r\n    image && itemData.append('image', image)\r\n    itemData.append('from', from)\r\n    itemData.append('to', to)\r\n    itemData.append('quantity', quantity)\r\n\r\n    try {\r\n      let res = await updateItem(token, itemData, match.params.itemId)\r\n      console.log('Item update', res)\r\n      toast.success(`${res.data.itemTitle} is updated`)\r\n    } catch (err) {\r\n      console.log(err)\r\n      toast.error(err.response.data.err)\r\n    }\r\n  }\r\n\r\n  const handleImageChange = (e) => {\r\n    //console.log(e.target.files[0])\r\n    //it will set the image in the state and will show the previous image\r\n    setPreview(URL.createObjectURL(e.target.files[0]))\r\n    setImage(e.target.files[0])\r\n  }\r\n\r\n  //pupulate the state\r\n  const handleChange = (e) => {\r\n    setValues({ ...values, [e.target.name]: e.target.value })\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid services p-5 text-center\">\r\n        <h2>Edit Item</h2>\r\n      </div>\r\n      <div className=\"contaneier-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-10\">\r\n            <br />\r\n            <ItemEditForm\r\n              values={values}\r\n              setValues={setValues}\r\n              handleChange={handleChange}\r\n              handleImageChange={handleImageChange}\r\n              handleSubmit={handleSubmit}\r\n            />\r\n          </div>\r\n          <div className=\"col-md-2\">\r\n            <img\r\n              src={preview}\r\n              alt=\"preview_image\"\r\n              className=\"img img-fluid-preview m-2\"\r\n            />\r\n            {/* <pre>{JSON.stringify(values, null, 4)}</pre> */}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default EditItem\r\n","import { useState, useEffect } from 'react'\r\nimport React from 'react'\r\nimport { read, isItemAlreadyBooked } from '../actions/item'\r\nimport moment from 'moment'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst ViewItem = ({ match, history }) => {\r\n  //add the response that it gets from effect in a state\r\n  const [item, setItem] = useState({})\r\n  const [image, setImage] = useState('')\r\n  const [isAlreadyBooked, setIsAlreadyBooked] = useState(false)\r\n\r\n  const { auth } = useSelector((state) => ({ ...state }))\r\n  useEffect(() => {\r\n    loadSellerItem()\r\n  }, [])\r\n\r\n  //use effect\r\n  useEffect(() => {\r\n    if (auth && auth.token) {\r\n      isItemAlreadyBooked(auth.token, match.params.itemId).then((res) => {\r\n        //console.log(res)\r\n        if (res.data.ok) setIsAlreadyBooked(true)\r\n      })\r\n    }\r\n  }, [])\r\n\r\n  const loadSellerItem = async () => {\r\n    //it will make a request using read fc\r\n    let res = await read(match.params.itemId)\r\n    //console.log(res)\r\n    setItem(res.data)\r\n    setImage(`${process.env.REACT_APP_API}/item/image/${res.data._id}`)\r\n    console.log(res.data)\r\n  }\r\n\r\n  //function to readress an user not logged\r\n  const handleClick = async (e) => {\r\n    e.preventDefault()\r\n\r\n    //Add the return keyword so the rest of the code does not execute when the user is readdress to login\r\n    if (!auth || !auth.token) {\r\n      history.push('/login')\r\n      return\r\n    }\r\n    if (auth) history.push(`/booking/checkout/${match.params.itemId}`)\r\n    //console.log('you are here')\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid services p-5 text-center\">\r\n        <h2>{item.itemTitle}</h2>\r\n      </div>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6\">\r\n            <br />\r\n            <b>{item.content}</b>\r\n            <p className=\"alert alert-info\">Author: {item.author}</p>\r\n            <p className=\"alert alert-info\">City: {item.city}</p>\r\n            <p className=\"card-text\">To: {item.status}</p>\r\n            <p className=\"card-text\"> Quantity: {item.quantity}</p>\r\n            <p className=\"card-text\"> Price: {item.price}</p>\r\n            <div className=\"col-md-4\">\r\n              {item.from && item.to ? (\r\n                <>\r\n                  <p className=\"card-text\">\r\n                    {/* Available from {new Date(item.from).toLocaleDateString()} */}\r\n                    From {moment(new Date(item.from)).format('MMMM Do YYYY')}\r\n                  </p>\r\n                  <p className=\"card-text\">\r\n                    {/* Available to {new Date(item.to).toLocaleDateString()} */}\r\n                    To {moment(new Date(item.to)).format('MMMM Do YYYY')}\r\n                  </p>\r\n                </>\r\n              ) : (\r\n                <p className=\"card-text\">{``}</p>\r\n              )}\r\n            </div>\r\n            <br />\r\n            <i>Posted by {item.owner && item.owner.name}</i>\r\n            <br />\r\n\r\n            <button\r\n              onClick={handleClick}\r\n              className=\"btn btn-block btn-lg btn-primary mt-3\"\r\n              disabled={isAlreadyBooked}\r\n            >\r\n              {isAlreadyBooked\r\n                ? 'Already Booked'\r\n                : auth && auth.token\r\n                ? 'Book Now'\r\n                : 'Login to Book'}\r\n            </button>\r\n          </div>\r\n\r\n          <div className=\"col-md-6\">\r\n            <br />\r\n            <img\r\n              src={image}\r\n              alt={item.itemTitle}\r\n              className=\"img img-fluid m-2\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default ViewItem\r\n","//Funtions to post and get data\r\nimport axios from 'axios'\r\n\r\n//send the request to create a new order\r\nexport const createOrder = async (token, itemId) =>\r\n  await axios.post(\r\n    `${process.env.REACT_APP_API}/create-order`,\r\n    { itemId },\r\n    {\r\n      headers: {\r\n        Authorization: `Bearer ${token}`,\r\n      },\r\n    }\r\n  )\r\n","import React from 'react'\r\nimport { useState, useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { createOrder } from '../actions/order'\r\nimport { LoadingOutlined } from '@ant-design/icons'\r\nimport { toast } from 'react-toastify'\r\n\r\nconst CheckOut = ({ match, history }) => {\r\n  // const {\r\n  //   auth: { token, user },\r\n  // } = useSelector((state) => ({ ...state }))\r\n\r\n  // useEffect(() => {\r\n  //   console.log('here we are', match.params.itemId + user.name)\r\n  // }, [match.params.itemId])\r\n\r\n  //add the response that it gets from effect in a state\r\n  const [item, setItem] = useState({})\r\n\r\n  const {\r\n    auth: { token, user },\r\n  } = useSelector((state) => ({ ...state }))\r\n  //another way to access to the token state\r\n  //const {token} = auth\r\n\r\n  useEffect(() => {\r\n    //console.log('Send this to create an order', match.params.itemId + user.name)\r\n    createOrder(token, match.params.itemId).then((res) => {\r\n      if (res.data.success) {\r\n        //console.log('Success response', res.data)\r\n        toast.success('New order has been created')\r\n        history.push('/services')\r\n      } else {\r\n        res.send('The booking was not successful, try again')\r\n      }\r\n    })\r\n  }, [match.params.itemId])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"container-fluid\">\r\n        <div className=\"col text-center\">\r\n          {/* <br />\r\n            <p className=\"card-text\">ID: {match.params.itemId}</p>\r\n            <p className=\"card-text\">Ordered By: {user.name}</p> */}\r\n          <LoadingOutlined className=\"display-1 text-danger\" />\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CheckOut\r\n","import { useState, useEffect } from 'react'\r\nimport queryString from 'query-string'\r\nimport { Link } from 'react-router-dom'\r\nimport Search from '../components/forms/Search'\r\nimport { searchListings } from '../actions/item'\r\n\r\nconst SearchItem = () => {\r\n  //as an user could change its parameters to search the state can change\r\n  const [searchCity, setSearchCity] = useState('')\r\n  const [searchDate, setSearchDate] = useState('')\r\n  //const [searchItemTitle, setSearchItemTitle] = useState('')\r\n\r\n  //the search query will retrieve all the items that match with the parameters\r\n  const [items, setItems] = useState([])\r\n\r\n  //use the search parameters from URL to send search query to endpoint\r\n  useEffect(() => {\r\n    const { city, date } = queryString.parse(window.location.search)\r\n    //console.table({ location, date })\r\n\r\n    searchListings({ city, date }).then((res) => {\r\n      console.log('Items found', res.data)\r\n      setItems(res.data)\r\n    })\r\n  }, [window.location.search])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"row\">{JSON.stringify(items, null, 4)}</div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SearchItem\r\n","import react, { useState } from 'react'\r\nimport { DatePicker, Select } from 'antd'\r\nimport { SearchOutlined } from '@ant-design/icons'\r\nimport moment from 'moment'\r\n//hooks to access to the history\r\nimport { useHistory } from 'react-router-dom'\r\n\r\n//destructure values from ant components\r\nconst { RangePicker } = DatePicker\r\nconst { Option } = Select\r\n\r\n//create component\r\nconst Search = () => {\r\n  //add states\r\n  const [city, setCity] = useState('')\r\n  //const [itemTitle, setItemTitle] = useState('')\r\n  const [date, setDate] = useState('')\r\n\r\n  //add useHistory to a variable\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = () => {\r\n    //history.push(`/search-result?location=${location}&date=${date}&itemTitle=${itemTitle}`)\r\n    history.push(`/search-result?city=${city}&date=${date}`)\r\n  }\r\n\r\n  return (\r\n    <div className=\"d-flex pb-4\">\r\n      <div className=\"w-100\">\r\n        <Select\r\n          onChange={(value) => setCity(value)}\r\n          className=\"w-100\"\r\n          size=\"large\"\r\n          placeholder=\"City\"\r\n        >\r\n          <Option value=\"Dublin\">Dublin</Option>\r\n          <Option value=\"Cork\">Cork</Option>\r\n          <Option value=\"Galway\">Galway</Option>\r\n          <Option value=\"Waterford\">Waterford</Option>\r\n        </Select>\r\n      </div>\r\n\r\n      {/* <input\r\n          type=\"text\"\r\n          name=\"ItemTitle\"\r\n          onChange={(itemTitle) => setItemTitle(itemTitle)}\r\n          placeholder=\"ItemTitle\"\r\n          className=\"form-control m-2\"\r\n          value={itemTitle}\r\n        ></input> */}\r\n\r\n      <RangePicker\r\n        onChange={(value, dateString) => setDate(dateString)}\r\n        disabledDate={(current) =>\r\n          current && current.valueOf() < moment().subtract(1, 'days')\r\n        }\r\n        className=\"w-100\"\r\n      />\r\n\r\n      <SearchOutlined\r\n        onClick={handleSubmit}\r\n        className=\"btn btn-primary p-3 btn-square\"\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search\r\n","//import functionalities from react -router-dom\nimport { BrowserRouter, Switch, Route } from 'react-router-dom'\n\n//import those to handle notification\nimport { ToastContainer } from 'react-toastify'\nimport 'react-toastify/dist/ReactToastify.css'\n//import\nimport NavBar from './components/NavBar'\nimport PrivateRoute from './components/PrivateRoute'\nimport Footer from './components/Footer'\n\n//App component will import the rest of the components\n//of the entire application based on its path as ./booking/Home\n//Components\nimport Home from './booking/Home'\nimport Login from './auth/Login'\nimport Register from './auth/Register'\nimport Services from './user/Services'\nimport ServicesOwner from './user/ServicesOwner'\nimport NewItem from './items/NewItem'\nimport EditItem from './items/EditItem'\nimport ViewItem from './items/ViewItem'\nimport CheckOut from './booking/CheckOut'\nimport SearchItem from './items/SearchItem'\n\n// we need to exacute the Nav function into the App\nfunction App() {\n  return (\n    <BrowserRouter>\n      <NavBar />\n\n      <ToastContainer\n        position=\"top-right\"\n        autoClose={5000}\n        hideProgressBar={false}\n        newestOnTop={false}\n      />\n\n      <Switch>\n        <Route exact path=\"/\" component={Home} />\n        <Route exact path=\"/login\" component={Login} />\n        <Route exact path=\"/register\" component={Register} />\n        <PrivateRoute exact path=\"/services\" component={Services} />\n        <PrivateRoute exact path=\"/services/owner\" component={ServicesOwner} />\n        <PrivateRoute exact path=\"/items/new\" component={NewItem} />\n\n        <PrivateRoute exact path=\"/item/edit/:itemId\" component={EditItem} />\n        <Route exact path=\"/item/:itemId\" component={ViewItem} />\n        <PrivateRoute\n          exact\n          path=\"/booking/checkout/:itemId\"\n          component={CheckOut}\n        />\n        <Route exact path=\"/search-result\" component={SearchItem} />\n        <Route path=\"/search/:keyword\" component={Home} />\n      </Switch>\n      <Footer />\n    </BrowserRouter>\n  )\n}\n\nexport default App\n","let userState\r\n\r\n//If it has the userState in the local storage, redux will take that state and will assign to state\r\nif (window.localStorage.getItem('auth')) {\r\n  userState = JSON.parse(window.localStorage.getItem('auth'))\r\n} else {\r\n  userState = null\r\n}\r\n//Reducer function which takes an state and an action and returns an object. Like increment\r\nexport const authenticationReducer = (state = userState, action) => {\r\n  switch (action.type) {\r\n    case 'LOGGED_IN_USER':\r\n      return { ...state, ...action.payload }\r\n    case 'LOGOUT':\r\n      return action.payload\r\n    default:\r\n      return state\r\n  }\r\n}\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","//in this file all the reducers will be combine\r\nimport { combineReducers } from 'redux'\r\nimport { authenticationReducer } from './authLog'\r\n\r\n//3. combine multiple reducers\r\nconst rootReducer = combineReducers({\r\n  auth: authenticationReducer,\r\n})\r\n\r\nexport default rootReducer\r\n","//this file is what our application is, because it render the App component which contains\n//the rest of the functionalities components\n\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport 'antd/dist/antd.css'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\nimport rootReducer from './reducers'\n/*\nRedux\nStore, \nAction, function that returns an object\nReducer,\nDispatch\n */\n//import from react-redux and redux\nimport { createStore } from 'redux'\nimport { Provider } from 'react-redux'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\n//Redux Store. Glabalized state. Holds all the data for the application\nconst store = createStore(rootReducer, composeWithDevTools())\n\n//ReactDOM is rendering the App component. This components has\n//provide redux store to the entire app, wrapping the App component\n//With the redux application it will able to access the state and\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals()\n"],"sourceRoot":""}