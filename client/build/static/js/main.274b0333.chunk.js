(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{153:function(e,t,a){},185:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(23),s=a.n(r),i=(a(153),a(154),a(29)),o=a(28),l=a(30),u=(a(155),a(2)),j=a(24),d=a(3),b=a(1),m=function(e){var t=e.history,a=Object(c.useState)(""),n=Object(d.a)(a,2),r=n[0],s=n[1];return Object(b.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r.trim()?t.push("/search/".concat(r)):t.push("/")},children:[Object(b.jsx)("input",{type:"text",name:"keyword",onChange:function(e){return s(e.target.value)},placeholder:"Search book title...",className:"search-box text-center"}),Object(b.jsx)("button",{type:"submit",variant:"outline-success",className:"btn search-button",children:"Search"})]})},h=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return Object(u.a)({},e)})).auth,a=Object(o.g)();return Object(b.jsxs)("div",{className:"nav d-flex justify-content-between col-sm text-center font",children:[Object(b.jsx)("img",{src:"/logo.png",width:"10%",height:"10%",alt:"",className:"img img-fluid m-2"}),Object(b.jsx)(o.b,{render:function(e){var t=e.history;return Object(b.jsx)(m,{history:t})}}),Object(b.jsx)(i.b,{className:"nav-link  m-4",to:"/",children:"Home"}),null!==t&&Object(b.jsx)(i.b,{className:"nav-link  m-4 ",to:"/services",children:"Services"}),null!==t&&Object(b.jsx)("h",{className:"nav-link pointer  m-4 ",onClick:function(){e({type:"LOGOUT",payload:null}),window.localStorage.removeItem("auth"),a.push("/login")},children:"Logout"}),null===t&&Object(b.jsxs)(b.Fragment,{children:["",Object(b.jsx)(i.b,{className:"nav-link m-4 ",to:"/login",children:"Login"}),Object(b.jsx)(i.b,{className:"nav-link m-4",to:"/register",children:"Register"}),""]})]})},p=function(e){var t=Object.assign({},e),a=Object(j.c)((function(e){return Object(u.a)({},e)})).auth;return a&&a.token?Object(b.jsx)(o.b,Object(u.a)({},t)):Object(b.jsx)(o.a,{to:"/login"})};var O=function(){var e=(new Date).getFullYear();return Object(b.jsx)("footer",{className:"container-fluid p-2 text-center",children:Object(b.jsxs)("p",{children:["Copyright \u24d2 VC ",e]})})},x=a(9),f=a.n(x),v=a(15),g=a(32),N=a.n(g),w=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/create-item"),a,{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),y=function(){var e=Object(v.a)(f.a.mark((function e(){var t,a=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",e.next=3,N.a.get("".concat("http://localhost:8000/api","/items?keyword=").concat(t));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/seller-items"),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.delete("".concat("http://localhost:8000/api","/delete-item/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),C=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/item/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(v.a)(f.a.mark((function e(t,a,c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.put("".concat("http://localhost:8000/api","/update-item/").concat(c),a,{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,c){return e.apply(this,arguments)}}(),I=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/user-item-bookings"),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.get("".concat("http://localhost:8000/api","/is-already-booked/").concat(a),{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),T=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/search-listings"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=function(e){return e.amount.toLocaleString(e.currency,{style:"currency",currency:e.currency})},P=a(192),B=a(193),L=function(e){var t=e.h,a=e.handleItemDelete,c=void 0===a?function(e){return e}:a,n=e.owner,r=void 0!==n&&n,s=e.showViewMoreButton,l=void 0===s||s,u=Object(o.g)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"card mb-3",children:Object(b.jsxs)("div",{className:"row no-gutters",children:[Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("h2",{className:"card-title",children:[t.itemTitle," "]}),Object(b.jsxs)("p",{className:"alert alert-info",children:["Author: ",t.author]}),Object(b.jsxs)("p",{className:"alert alert-info",children:["City: ",t.city]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsxs)("p",{className:"card-text",children:["To: ",t.status]}),Object(b.jsxs)("p",{className:"card-text",children:[" Quantity: ",t.quantity]}),Object(b.jsxs)("p",{className:"",children:[" ","Price:"," ",F({amount:t.price,currency:"EUR"})]})," "]}),Object(b.jsx)("div",{className:"col-md-4",children:t.from&&t.to?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{className:"card-text",children:["Available from ",new Date(t.from).toLocaleDateString()]}),Object(b.jsxs)("p",{className:"card-text",children:["Available to ",new Date(t.to).toLocaleDateString()]})]}):Object(b.jsx)("p",{className:"card-text",children:""})}),Object(b.jsxs)("div",{className:"d-flex justify-content-between h4",children:[l&&Object(b.jsx)("button",{onClick:function(){return u.push("/item/".concat(t._id))},className:"btn btn-primary",children:"Show more"}),r&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(i.b,{to:"/item/edit/".concat(t._id),children:Object(b.jsx)(P.a,{className:"text-warning"})}),Object(b.jsx)(B.a,{onClick:function(){return c(t._id)},className:"text-danger"})]})]})]})}),Object(b.jsx)("div",{className:"col-md-4",children:t.image&&t.image.contentType?Object(b.jsx)("img",{src:"".concat("http://localhost:8000/api","/item/image/").concat(t._id),alt:"item",className:"card-image img img-fluid"}):Object(b.jsx)("img",{src:"https://via.placeholder.com/900x500.png?text=item",alt:"item",className:"card-image img img-fluid-preview"})})]})})})},Y=function(e){var t=e.match.params.keyword,a=Object(c.useState)([]),n=Object(d.a)(a,2),r=n[0],s=n[1];Object(c.useEffect)((function(){i(t)}),[t]);var i=function(){var e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(t);case 2:a=e.sent,s(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-fluid banner p-5 text-center",children:Object(b.jsx)("h1",{children:" List of items "})}),Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsx)("br",{}),r.map((function(e){return Object(b.jsx)(L,{h:e},e._id)}))]})]})},M=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/register"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=Object(v.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/login"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){var t=e.submitForm,a=e.email,c=e.setEmail,n=e.password,r=e.setPassword;return Object(b.jsxs)("form",{onSubmit:t,className:"mt-3",children:[Object(b.jsxs)("div",{className:"form-group mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Email address"}),Object(b.jsx)("input",{className:"form-control",type:"email",placeholder:"Enter email",value:a,onChange:function(e){return c(e.target.value)},required:!0})]}),Object(b.jsxs)("div",{className:"form-group mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Password"}),Object(b.jsx)("input",{className:"form-control",type:"password",placeholder:"Enter password",value:n,onChange:function(e){return r(e.target.value)},required:!0})]}),Object(b.jsx)("button",{disabled:!a||!n,className:"btn btn-primary",children:"Submit"})]})},R=function(e){var t=e.history,a=Object(c.useState)("veronicacondori24@gmail.com"),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)("123456789"),o=Object(d.a)(i,2),u=o[0],m=o[1],h=Object(j.b)(),p=function(){var e=Object(v.a)(f.a.mark((function e(a){var c;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),console.log("Send Login Information",{email:r,password:u}),e.prev=2,e.next=5,A({email:r,password:u});case 5:(c=e.sent).data&&(console.log("Save user res in redux and local storage then redirect ===>"),window.localStorage.setItem("auth",JSON.stringify(c.data)),h({type:"LOGGED_IN_USER",payload:c.data}),t.push("/services")),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0),400===e.t0.response.status&&l.b.error(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-fluid p-5 text-center banner",children:Object(b.jsx)("h1",{children:"Login"})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(b.jsx)(_,{submitForm:p,email:r,setEmail:s,password:u,setPassword:m})})})})]})},q=function(e){var t=e.submitForm,a=e.name,c=e.setName,n=e.email,r=e.setEmail,s=e.password,i=e.setPassword;return Object(b.jsxs)("form",{onSubmit:t,className:"mt-3",children:[Object(b.jsxs)("div",{className:"form-group mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Name"}),Object(b.jsx)("input",{className:"form-control",type:"text",placeholder:"Enter name",value:a,onChange:function(e){return c(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Email address"}),Object(b.jsx)("input",{className:"form-control",type:"email",placeholder:"Enter email",value:n,onChange:function(e){return r(e.target.value)}})]}),Object(b.jsxs)("div",{className:"form-group mb-3",children:[Object(b.jsx)("label",{className:"form-label",children:"Password"}),Object(b.jsx)("input",{className:"form-control",type:"password",placeholder:"Enter password",value:s,onChange:function(e){return i(e.target.value)}})]}),Object(b.jsx)("button",{className:"btn btn-primary",children:"Submit"})]})},G=function(e){var t=e.history,a=Object(c.useState)(""),n=Object(d.a)(a,2),r=n[0],s=n[1],i=Object(c.useState)(""),o=Object(d.a)(i,2),u=o[0],j=o[1],m=Object(c.useState)(""),h=Object(d.a)(m,2),p=h[0],O=h[1],x=function(){var e=Object(v.a)(f.a.mark((function e(a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.prev=1,e.next=4,M({name:r,email:u,password:p});case 4:e.sent,Object(l.b)("Registered successfully. Please Login."),t.push("/login"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),400===e.t0.response.status&&Object(l.b)(e.t0.response.data);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-fluid bg-muted p-5 text-center banner",children:Object(b.jsx)("h1",{children:"Register"})}),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-md-6 offset-md-3",children:Object(b.jsx)(q,{submitForm:x,name:r,setName:s,email:u,setEmail:j,password:p,setPassword:O})})})})]})},z=function(){var e=window.location.pathname;return console.log(e),Object(b.jsxs)("ul",{className:"nav nav-tabs",children:[Object(b.jsx)("li",{className:"nav-item col-6 text-center",children:Object(b.jsx)(i.b,{className:"nav-link ".concat("/services"===e&&"active"),to:"/services",children:"Your bookings"})}),Object(b.jsx)("li",{className:"nav-item col-6 text-center",children:Object(b.jsx)(i.b,{className:"nav-link ".concat("/services/owner"===e&&"active"),to:"/services/owner",children:"Your items"})})]})},U=a(188),V=a(191),W=a(27),J=a.n(W),Q=U.a.Meta,H=function(){var e=Object(j.c)((function(e){return Object(u.a)({},e)})).auth.user;return Object(b.jsx)("div",{className:"d-flex justify-content-around",children:Object(b.jsx)(U.a,{className:"",children:Object(b.jsx)(Q,{avatar:Object(b.jsx)(V.a,{children:e.name[0]}),title:e.name})})})},K=a(189),X=function(e){var t=e.item,a=e.orderedBy,c=e.showModal,n=e.setShowModal;return Object(b.jsxs)(K.a,{visible:c,title:"Order payment info",onCancel:function(){return n(!c)},children:[Object(b.jsxs)("p",{children:[" OrderedBy: ",a.name]}),Object(b.jsxs)("p",{children:[" Id: ",a._id]}),Object(b.jsx)("p",{children:" Payment status: Paid"}),Object(b.jsxs)("p",{children:[" Amount: ",t.price,"\u20ac"]})]})},Z=function(e){var t=e.item,a=e.orderedBy,n=Object(c.useState)(!1),r=Object(d.a)(n,2),s=r[0],i=r[1];Object(o.g)();return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"card mb-3",children:Object(b.jsxs)("div",{className:"row no-gutters",children:[Object(b.jsx)("div",{className:"col-md-8",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsxs)("h2",{className:"card-title",children:[t.itemTitle," "]}),Object(b.jsxs)("p",{className:"alert alert-info",children:["Author: ",t.author]}),Object(b.jsxs)("p",{className:"alert alert-info",children:["City: ",t.city]}),Object(b.jsxs)("div",{className:"d-flex justify-content-between",children:[Object(b.jsxs)("p",{className:"card-text",children:["To: ",t.status]}),Object(b.jsxs)("p",{className:"card-text",children:[" Quantity: ",t.quantity]}),Object(b.jsxs)("p",{className:"",children:[" ","Price:"," ",F({amount:t.price,currency:"EUR"})]})," "]}),Object(b.jsx)("div",{className:"col-md-4",children:t.from&&t.to?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{className:"card-text",children:["From ",new Date(t.from).toLocaleDateString()]}),Object(b.jsxs)("p",{className:"card-text",children:["To ",new Date(t.to).toLocaleDateString()]})]}):Object(b.jsx)("p",{className:"card-text",children:""})}),s&&Object(b.jsx)(X,{item:t,orderedBy:a,showModal:s,setShowModal:i}),Object(b.jsx)("div",{className:"d-flex justify-content-between h4",children:Object(b.jsx)("button",{onClick:function(){return i(!s)},className:"btn btn-primary",children:"Show more info"})})]})}),Object(b.jsx)("div",{className:"col-md-4",children:t.image&&t.image.contentType?Object(b.jsx)("img",{src:"".concat("http://localhost:8000/api","/item/image/").concat(t._id),alt:"item",className:"card-image img img-fluid"}):Object(b.jsx)("img",{src:"https://via.placeholder.com/900x500.png?text=item",alt:"item",className:"card-image img img-fluid"})})]})})})},$=function(){var e=Object(j.c)((function(e){return Object(u.a)({},e)})).auth.token,t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,I(e);case 2:a=t.sent,console.log(a),r(a.data);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"container-fluid p-5 text-center services",children:[Object(b.jsx)("h1",{children:"Services"}),Object(b.jsx)(H,{})]}),Object(b.jsx)("div",{className:"container-fluid p-4",children:Object(b.jsx)(z,{})}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-10",children:Object(b.jsx)("h2",{children:"Your booked items"})}),Object(b.jsx)("div",{className:"col-md-2",children:Object(b.jsx)(i.b,{to:"/",className:"btn btn-primary",children:"Show list of Books"})})]})}),Object(b.jsx)("div",{className:"row",children:n.map((function(e){return Object(b.jsx)(Z,{item:e.item,orderedBy:e.orderedBy},e._id)}))})]})},ee=function(){var e=Object(j.c)((function(e){return Object(u.a)({},e)})).auth,t=Object(c.useState)([]),a=Object(d.a)(t,2),n=a[0],r=a[1];Object(c.useEffect)((function(){s()}),[]);var s=function(){var t=Object(v.a)(f.a.mark((function t(){var a,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.token);case 2:a=t.sent,c=a.data,r(c);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=function(){var t=Object(v.a)(f.a.mark((function t(a){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.confirm("Do you want to delete it?")){t.next=2;break}return t.abrupt("return");case 2:S(e.token,a).then((function(e){l.b.success("Item deleted"),s()}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"container-fluid p-5 text-center services",children:[Object(b.jsx)("h1",{children:"Services"}),Object(b.jsx)(H,{})]}),Object(b.jsx)("div",{className:"container-fluid p-4",children:Object(b.jsx)(z,{})}),Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-10",children:Object(b.jsx)("h2",{children:"Your own items"})}),Object(b.jsx)("div",{className:"col-md-2",children:Object(b.jsx)(i.b,{to:"/items/new",className:"btn btn-primary",children:"Add new item"})})]}),Object(b.jsx)("div",{className:"row",children:n.map((function(e){return Object(b.jsx)(L,{h:e,showViewMoreButton:!1,owner:!0,handleItemDelete:o},e._id)}))})]})]})},te=a(5),ae=a(10),ce=a(190),ne=a(187),re=ce.a.Option,se=function(e){var t=e.values,a=e.setValues,c=e.handleChange,n=e.handleImageChange,r=e.handleSubmit,s=t.itemTitle,i=t.author,o=t.price;return Object(b.jsxs)("form",{onSubmit:r,children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{className:"btn btn-outline-secondary btn-block m-2 text-left",children:["Image",Object(b.jsx)("input",{type:"file",name:"itemImage",onChange:n,accept:"*/",hidden:!0})]}),Object(b.jsx)("input",{type:"text",name:"itemTitle",onChange:c,placeholder:"Item Title",className:"form-control m-2",value:s}),Object(b.jsx)("input",{type:"text",name:"author",onChange:c,placeholder:"Author",className:"form-control m-2",value:i}),Object(b.jsxs)(ce.a,{style:{width:120},onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{city:e}))},className:"w-100 m-2",size:"large",placeholder:"City",children:[Object(b.jsx)(re,{value:"Dublin",children:"Dublin"}),Object(b.jsx)(re,{value:"Cork",children:"Cork"}),Object(b.jsx)(re,{value:"Galway",children:"Galway"}),Object(b.jsx)(re,{value:"Waterford",children:"Waterford"})]}),Object(b.jsxs)(ce.a,{style:{width:120},onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{status:e}))},className:"w-100 m-2",size:"large",placeholder:"Status",children:[Object(b.jsx)(re,{value:"Sell",children:"Sell"}),Object(b.jsx)(re,{value:"Exchange",children:"Exchange"}),Object(b.jsx)(re,{value:"Give away",children:"Give away"})]}),Object(b.jsx)("input",{type:"number",name:"price",onChange:c,placeholder:"Price",className:"form-control m-2",value:o}),Object(b.jsxs)(ce.a,{onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{quantity:e}))},className:"w-100 m-2",size:"middle",placeholder:"Quantity",children:[Object(b.jsx)(re,{children:1},1),Object(b.jsx)(re,{children:2},2),Object(b.jsx)(re,{children:3},3),Object(b.jsx)(re,{children:4},4)]})]}),Object(b.jsx)(ne.a,{placeholder:"From date",className:"form-control m-2",onChange:function(e,c){return a(Object(u.a)(Object(u.a)({},t),{},{from:c}))},disabledDate:function(e){return e&&e.valueOf()<J()().subtract(1,"days")}}),Object(b.jsx)(ne.a,{placeholder:"To date",className:"form-control m-2",onChange:function(e,c){return a(Object(u.a)(Object(u.a)({},t),{},{to:c}))},disabledDate:function(e){return e&&e.valueOf()<J()().subtract(1,"days")}}),Object(b.jsx)("button",{className:"btn btn-outline-primary m-2",children:"Add"})]})},ie=(ce.a.Option,function(){var e=Object(j.c)((function(e){return Object(u.a)({},e)})).auth.token,t=Object(c.useState)({itemTitle:"",author:"",city:"",status:"",price:"",image:"",from:"",to:"",quantity:""}),a=Object(d.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)("https://via.placeholder.com/100x100.png?text=PREVIEW"),i=Object(d.a)(s,2),o=i[0],m=i[1],h=n.itemTitle,p=n.author,O=n.city,x=n.status,g=n.price,N=n.image,y=n.from,k=n.to,S=n.quantity,C=function(){var t=Object(v.a)(f.a.mark((function t(a){var c,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),D(n),(c=new FormData).append("itemTitle",h),c.append("author",p),c.append("city",O),c.append("status",x),c.append("price",g),N&&c.append("image",N),c.append("from",y),c.append("to",k),c.append("quantity",S),console.log(Object(ae.a)(c)),t.prev=13,t.next=16,w(e,c);case 16:r=t.sent,console.log("Created item res",r),l.b.success("New item has been added"),setTimeout((function(){window.location.reload()}),2e3),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(13),console.log(t.t0);case 25:case"end":return t.stop()}}),t,null,[[13,22]])})));return function(e){return t.apply(this,arguments)}}(),D=function(e){return e.itemTitle?e.author?e.city?e.status?e.price||Object(l.b)("Please fill price"):Object(l.b)("Please fill status"):Object(l.b)("Please fill city"):Object(l.b)("Please fill author"):Object(l.b)("Please fill the item title."),{}};return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-fluid services p-5 text-center",children:Object(b.jsx)("h2",{children:"Add New Item"})}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-md-10",children:[Object(b.jsx)("br",{}),Object(b.jsx)(se,{values:n,setValues:r,handleChange:function(e){r(Object(u.a)(Object(u.a)({},n),{},Object(te.a)({},e.target.name,e.target.value)))},handleImageChange:function(e){m(URL.createObjectURL(e.target.files[0])),r(Object(u.a)(Object(u.a)({},n),{},{image:e.target.files[0]}))},handleSubmit:C})]}),Object(b.jsx)("div",{className:"col-md-2",children:Object(b.jsx)("img",{src:o,alt:"preview_image",className:"img img-fluid-preview m-2"})})]})})]})}),oe=ce.a.Option,le=function(e){var t=e.values,a=e.setValues,c=e.handleChange,n=e.handleImageChange,r=e.handleSubmit,s=t.itemTitle,i=t.author,o=t.city,l=t.status,j=t.price,d=t.quantity,m=t.from,h=t.to;return Object(b.jsxs)("form",{onSubmit:r,children:[Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsxs)("label",{className:"btn btn-outline-secondary btn-block m-2 text-left",children:["Image",Object(b.jsx)("input",{type:"file",name:"itemImage",onChange:n,accept:"*/",hidden:!0})]}),Object(b.jsx)("input",{type:"text",name:"itemTitle",onChange:c,placeholder:"Item Title",className:"form-control m-2",value:s}),Object(b.jsx)("input",{type:"text",name:"author",onChange:c,placeholder:"Author",className:"form-control m-2",value:i}),Object(b.jsxs)(ce.a,{style:{width:120},onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{city:e}))},className:"w-100 m-2",size:"large",placeholder:"City",value:o,children:[Object(b.jsx)(oe,{value:"Dublin",children:"Dublin"}),Object(b.jsx)(oe,{value:"Cork",children:"Cork"}),Object(b.jsx)(oe,{value:"Galway",children:"Galway"}),Object(b.jsx)(oe,{value:"Waterford",children:"Waterford"})]}),Object(b.jsxs)(ce.a,{style:{width:120},onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{status:e}))},className:"w-100 m-2",size:"large",placeholder:"Status",value:l,children:[Object(b.jsx)(oe,{value:"Sell",children:"Sell"}),Object(b.jsx)(oe,{value:"Exchange",children:"Exchange"}),Object(b.jsx)(oe,{value:"Give away",children:"Give away"})]}),Object(b.jsx)("input",{type:"number",name:"price",onChange:c,placeholder:"Price",className:"form-control m-2",value:j}),Object(b.jsxs)(ce.a,{onChange:function(e){return a(Object(u.a)(Object(u.a)({},t),{},{quantity:e}))},className:"w-100 m-2",size:"middle",placeholder:"Quantity",value:d,children:[Object(b.jsx)(oe,{children:1},1),Object(b.jsx)(oe,{children:2},2),Object(b.jsx)(oe,{children:3},3),Object(b.jsx)(oe,{children:4},4)]})]}),m&&Object(b.jsx)(ne.a,{defaultValue:J()(m,"YYYY-MM-DD"),placeholder:"From date",className:"form-control m-2",onChange:function(e,c){return a(Object(u.a)(Object(u.a)({},t),{},{from:c}))},disabledDate:function(e){return e&&e.valueOf()<J()().subtract(1,"days")}}),h&&Object(b.jsx)(ne.a,{defaultValue:J()(h,"YYYY-MM-DD"),placeholder:"To date",className:"form-control m-2",onChange:function(e,c){return a(Object(u.a)(Object(u.a)({},t),{},{to:c}))},disabledDate:function(e){return e&&e.valueOf()<J()().subtract(1,"days")}}),Object(b.jsx)("button",{className:"btn btn-outline-primary m-2",children:"Update"})]})},ue=(ce.a.Option,function(e){var t=e.match,a=Object(j.c)((function(e){return Object(u.a)({},e)})).auth.token,n=Object(c.useState)({itemTitle:"",author:"",city:"",status:"",price:"",from:"",to:"",quantity:""}),r=Object(d.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),m=Object(d.a)(o,2),h=m[0],p=m[1],O=Object(c.useState)("https://via.placeholder.com/100x100.png?text=PREVIEW"),x=Object(d.a)(O,2),g=x[0],N=x[1],w=s.itemTitle,y=s.author,k=s.city,S=s.status,I=s.price,E=s.from,T=s.to,F=s.quantity;Object(c.useEffect)((function(){P()}),[]);var P=function(){var e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.params.itemId);case 2:a=e.sent,i(Object(u.a)(Object(u.a)({},s),a.data)),N("".concat("http://localhost:8000/api","/item/image/").concat(a.data._id));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(v.a)(f.a.mark((function e(c){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),(n=new FormData).append("itemTitle",w),n.append("author",y),n.append("city",k),n.append("status",S),n.append("price",I),h&&n.append("image",h),n.append("from",E),n.append("to",T),n.append("quantity",F),e.prev=11,e.next=14,D(a,n,t.params.itemId);case 14:r=e.sent,console.log("Item update",r),l.b.success("".concat(r.data.itemTitle," is updated")),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(11),console.log(e.t0),l.b.error(e.t0.response.data.err);case 23:case"end":return e.stop()}}),e,null,[[11,19]])})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-fluid services p-5 text-center",children:Object(b.jsx)("h2",{children:"Edit Item"})}),Object(b.jsx)("div",{className:"contaneier-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-md-10",children:[Object(b.jsx)("br",{}),Object(b.jsx)(le,{values:s,setValues:i,handleChange:function(e){i(Object(u.a)(Object(u.a)({},s),{},Object(te.a)({},e.target.name,e.target.value)))},handleImageChange:function(e){N(URL.createObjectURL(e.target.files[0])),p(e.target.files[0])},handleSubmit:B})]}),Object(b.jsx)("div",{className:"col-md-2",children:Object(b.jsx)("img",{src:g,alt:"preview_image",className:"img img-fluid-preview m-2"})})]})})]})}),je=function(e){var t=e.match,a=e.history,n=Object(c.useState)({}),r=Object(d.a)(n,2),s=r[0],i=r[1],o=Object(c.useState)(""),l=Object(d.a)(o,2),m=l[0],h=l[1],p=Object(c.useState)(!1),O=Object(d.a)(p,2),x=O[0],g=O[1],N=Object(j.c)((function(e){return Object(u.a)({},e)})).auth;Object(c.useEffect)((function(){w()}),[]),Object(c.useEffect)((function(){N&&N.token&&E(N.token,t.params.itemId).then((function(e){e.data.ok&&g(!0)}))}),[]);var w=function(){var e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C(t.params.itemId);case 2:a=e.sent,i(a.data),h("".concat("http://localhost:8000/api","/item/image/").concat(a.data._id)),console.log(a.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(v.a)(f.a.mark((function e(c){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),N&&N.token){e.next=4;break}return a.push("/login"),e.abrupt("return");case 4:N&&a.push("/booking/checkout/".concat(t.params.itemId));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"container-fluid services p-5 text-center",children:Object(b.jsx)("h2",{children:s.itemTitle})}),Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)("div",{className:"col-md-6",children:[Object(b.jsx)("br",{}),Object(b.jsx)("b",{children:s.content}),Object(b.jsxs)("p",{className:"alert alert-info",children:["Author: ",s.author]}),Object(b.jsxs)("p",{className:"alert alert-info",children:["City: ",s.city]}),Object(b.jsxs)("p",{className:"card-text",children:["To: ",s.status]}),Object(b.jsxs)("p",{className:"card-text",children:[" Quantity: ",s.quantity]}),Object(b.jsxs)("p",{className:"card-text",children:[" Price: ",s.price]}),Object(b.jsx)("div",{className:"col-md-4",children:s.from&&s.to?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("p",{className:"card-text",children:["From ",J()(new Date(s.from)).format("MMMM Do YYYY")]}),Object(b.jsxs)("p",{className:"card-text",children:["To ",J()(new Date(s.to)).format("MMMM Do YYYY")]})]}):Object(b.jsx)("p",{className:"card-text",children:""})}),Object(b.jsx)("br",{}),Object(b.jsxs)("i",{children:["Posted by ",s.owner&&s.owner.name]}),Object(b.jsx)("br",{}),Object(b.jsx)("button",{onClick:y,className:"btn btn-block btn-lg btn-primary mt-3",disabled:x,children:x?"Already Booked":N&&N.token?"Book Now":"Login to Book"})]}),Object(b.jsxs)("div",{className:"col-md-6",children:[Object(b.jsx)("br",{}),Object(b.jsx)("img",{src:m,alt:s.itemTitle,className:"img img-fluid m-2"})]})]})})]})},de=function(){var e=Object(v.a)(f.a.mark((function e(t,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.post("".concat("http://localhost:8000/api","/create-order"),{itemId:a},{headers:{Authorization:"Bearer ".concat(t)}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),be=a(71),me=function(e){var t=e.match,a=e.history,n=Object(c.useState)({}),r=Object(d.a)(n,2),s=(r[0],r[1],Object(j.c)((function(e){return Object(u.a)({},e)})).auth),i=s.token;s.user;return Object(c.useEffect)((function(){de(i,t.params.itemId).then((function(e){e.data.success?(l.b.success("New order has been created"),a.push("/services")):e.send("The booking was not successful, try again")}))}),[t.params.itemId]),Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"col text-center",children:Object(b.jsx)(be.a,{className:"display-1 text-danger"})})})})},he=a(141),pe=a.n(he),Oe=(a(147),ne.a.RangePicker,ce.a.Option,function(){var e=Object(c.useState)(""),t=Object(d.a)(e,2),a=(t[0],t[1],Object(c.useState)("")),n=Object(d.a)(a,2),r=(n[0],n[1],Object(c.useState)([])),s=Object(d.a)(r,2),i=s[0],o=s[1];return Object(c.useEffect)((function(){var e=pe.a.parse(window.location.search),t=e.city,a=e.date;T({city:t,date:a}).then((function(e){console.log("Items found",e.data),o(e.data)}))}),[window.location.search]),Object(b.jsx)("div",{className:"container",children:Object(b.jsx)("div",{className:"row",children:JSON.stringify(i,null,4)})})});var xe,fe=function(){return Object(b.jsxs)(i.a,{children:[Object(b.jsx)(h,{}),Object(b.jsx)(l.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1}),Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",component:Y}),Object(b.jsx)(o.b,{exact:!0,path:"/login",component:R}),Object(b.jsx)(o.b,{exact:!0,path:"/register",component:G}),Object(b.jsx)(p,{exact:!0,path:"/services",component:$}),Object(b.jsx)(p,{exact:!0,path:"/services/owner",component:ee}),Object(b.jsx)(p,{exact:!0,path:"/items/new",component:ie}),Object(b.jsx)(p,{exact:!0,path:"/item/edit/:itemId",component:ue}),Object(b.jsx)(o.b,{exact:!0,path:"/item/:itemId",component:je}),Object(b.jsx)(p,{exact:!0,path:"/booking/checkout/:itemId",component:me}),Object(b.jsx)(o.b,{exact:!0,path:"/search-result",component:Oe}),Object(b.jsx)(o.b,{path:"/search/:keyword",component:Y})]}),Object(b.jsx)(O,{})]})},ve=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,194)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),c(e),n(e),r(e),s(e)}))},ge=a(85);xe=window.localStorage.getItem("auth")?JSON.parse(window.localStorage.getItem("auth")):null;var Ne=Object(ge.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGGED_IN_USER":return Object(u.a)(Object(u.a)({},e),t.payload);case"LOGOUT":return t.payload;default:return e}}}),we=a(142),ye=Object(ge.createStore)(Ne,Object(we.composeWithDevTools)());s.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(j.a,{store:ye,children:Object(b.jsx)(fe,{})})}),document.getElementById("root")),ve()}},[[185,1,2]]]);
//# sourceMappingURL=main.274b0333.chunk.js.map